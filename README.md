# Nebula Proof Kit

**Open-source verification toolkit for Nebula cryptographic proofs.**

> "We're so confident in our cryptographic proofs that we open-sourced the verification layer. **Anyone can verify. Only we can produce.**"

[![License: Apache-2.0](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-blue.svg)](https://www.typescriptlang.org/)
[![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://www.python.org/)

## Overview

Nebula Proof Kit provides standalone verification tools for cryptographic proofs generated by [NebulaGuard](https://nebulaguard.net). This toolkit enables:

- **Auditors** to independently verify proof validity
- **Customers** to integrate proof validation into their workflows
- **Regulators** to confirm compliance mechanisms
- **Developers** to build on top of Nebula's proof infrastructure

## Installation

### TypeScript / Node.js

```bash
npm install @nebula/proof-kit
```

### Python

```bash
pip install nebula-proof-kit
```

### CLI

```bash
npm install -g @nebula/proof-cli
# or
pipx install nebula-proof-kit[cli]
```

## Quick Start

### Verify a Proof (TypeScript)

```typescript
import { verifyProof } from '@nebula/proof-kit';

const proof = JSON.parse(fs.readFileSync('backup_proof.json', 'utf-8'));
const result = await verifyProof(proof);

if (result.valid) {
  console.log('Proof verified successfully!');
  console.log('Checks passed:', result.checks);
} else {
  console.error('Verification failed:', result.errors);
}
```

### Verify a Proof (Python)

```python
from nebula_proof import verify_proof

with open('backup_proof.json') as f:
    proof = json.load(f)

result = verify_proof(proof)

if result.valid:
    print('Proof verified successfully!')
    print('Checks passed:', result.checks)
else:
    print('Verification failed:', result.errors)
```

### Verify via CLI

```bash
# Basic verification
nebula-proof verify backup_proof.json

# JSON output for CI/CD
nebula-proof verify backup_proof.json --output json

# Human-readable explanation
nebula-proof verify backup_proof.json --explain

# Inspect proof structure
nebula-proof inspect backup_proof.json

# View Merkle tree
nebula-proof merkle-tree backup_proof.json --view
```

## Proof Types

| Type | Description | Use Case |
|------|-------------|----------|
| `backup_integrity` | Proves data was backed up with integrity | Compliance audits |
| `deletion` | Proves data was permanently deleted | GDPR Article 17 |
| `residency` | Proves data location/jurisdiction | Data sovereignty |
| `transmission` | Proves secure data transfer | Chain of custody |
| `reconstruction` | Proves data can be recovered | Disaster recovery |

## Verification Checks

Each proof undergoes multiple verification checks:

1. **Schema Validation** - Proof structure matches expected format
2. **Canonical Hash** - Content hash matches declared value (RFC 8785)
3. **Signature Verification** - Ed25519 signature is valid
4. **Merkle Inclusion** - Leaf is included in declared Merkle root
5. **Timestamp Validation** - Timestamps are well-formed (RFC 3339)
6. **Compliance Checks** - Proof-type-specific requirements met

## Standards Compliance

This implementation conforms to:

- **RFC 8785** - JSON Canonicalization Scheme (JCS)
- **RFC 8032** - Edwards-Curve Digital Signature Algorithm (Ed25519)
- **FIPS 180-4** - Secure Hash Standard (SHA-256)
- **FIPS 186-4** - Digital Signature Standard
- **NIST SP 800-88 Rev.1** - Guidelines for Media Sanitization
- **GDPR Article 17** - Right to Erasure

## Project Structure

```
nebula-proof-kit/
├── packages/
│   ├── typescript/       # TypeScript/Node.js SDK
│   └── python/           # Python SDK
├── cli/                  # Command-line tool
├── schemas/              # JSON Schema definitions
├── docs/                 # Documentation
│   ├── PROOF_FORMAT.md   # Proof bundle specification
│   ├── POLICY_MAPPING.md # Policy ↔ Proof field mapping
│   └── FLOWS.md          # Verification flow diagrams
├── examples/             # Example proof bundles
└── test-vectors/         # Canonical test cases
```

## What This Kit Does NOT Include

This is the **verification layer only**. The following remain proprietary:

- Proof generation / production logic
- Shard placement algorithms
- Erasure coding parameters
- Node health scoring
- Anchoring strategy / timing
- Risk and pricing models

## Contributing

We welcome contributions! Please see [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.

## License

Apache License 2.0 - See [LICENSE](LICENSE) for details.

## Links

- [NebulaGuard](https://nebulaguard.net) - Full proof infrastructure
- [Documentation](https://docs.nebulaguard.net/proofs)
- [Aeonica Labs](https://github.com/Aeonica-Labs) - Parent organization

---

**Built with love. For the people. For freedom, security, privacy, and sovereignty.**
